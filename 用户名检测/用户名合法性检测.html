<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>用户名检测</title>
        <style >
        #HEGE{
            color: green;
        }
        #cowu{
            color: red;
        }
        </style>
    </head>
    <body>
        <div class="username">
            <input id="userinput" type="text">
            <button id="checkuser" type="button">登录</button>


        </div>

<script>
        var log = function() {
            console.log.apply(console, arguments)
        }
        var lower = 'abcdefghijklmnopqrstuvwxyz'
        var upper = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'
        var letters = lower + upper
        var num = '0123456789'
        var nl = num + letters
        var f = '_'
        var all = letters + num + f
        var ucheck = function(){
            var inputeduser = document.querySelector('#userinput')
            var user = inputeduser.value
            log('user',user)
            var result = true
            for (var i = 0; i < user.length; i++) {
                var t1 = letters.includes(user[0])
                var t2 = all.includes(user[i])
                var t3 = nl.includes(user[user.length - 1])
                var t4 = user.length > 1 && user.length < 11

            }
            if (t1 === true && t2 === true && t3 === true && t4 === true) {
                return '<h1 id = "HEGE">检查合格</h1>'
            }
            else{
                return '<h1 id = "cowu">用户名错误</h1>'
            }

        }
        log('ucheck',ucheck())
        var dglubutton = document.querySelector('#checkuser')
        dglubutton.addEventListener('click',function(){
            var usercheck = document.querySelector('.username')
            var t = ucheck()
            // var m = '<h1>k</h1>'
            usercheck.insertAdjacentHTML('beforeend', t)
        })
</script>
    </body>
</html>
